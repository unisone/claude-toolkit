# Contributing to Claude Toolkit

Thank you for your interest in contributing! This toolkit is built by and for the AI coding community.

## Getting Started

1. **Fork the repository** on GitHub
2. **Clone your fork** locally:
   ```bash
   git clone https://github.com/YOUR-USERNAME/claude-toolkit
   cd claude-toolkit
   ```

3. **Create a branch** for your feature:
   ```bash
   git checkout -b feat/my-new-feature
   ```

4. **Make your changes** and test them thoroughly

5. **Run quality checks**:
   ```bash
   # Dogfood our own tool!
   ./skills/techdebt/scripts/scan.sh
   ./skills/techdebt/scripts/scan.sh --fix
   ```

6. **Commit using conventional commits**:
   ```bash
   git commit -m "feat: add Python support to techdebt scanner"
   git commit -m "fix: handle missing .git directory gracefully"
   git commit -m "docs: improve installation instructions"
   ```

7. **Push and create a pull request**:
   ```bash
   git push origin feat/my-new-feature
   ```

## Conventional Commits

We use [Conventional Commits](https://www.conventionalcommits.org/) for semantic versioning:

- `feat:` â€” New feature (triggers minor version bump)
- `fix:` â€” Bug fix (triggers patch version bump)
- `docs:` â€” Documentation only changes
- `style:` â€” Code style changes (formatting, missing semi-colons, etc.)
- `refactor:` â€” Code refactoring without changing functionality
- `perf:` â€” Performance improvements
- `test:` â€” Adding or updating tests
- `chore:` â€” Build process, dependencies, or tooling changes
- `ci:` â€” CI/CD configuration changes

**Breaking changes:** Add `!` after the type or `BREAKING CHANGE:` in the footer:
```bash
git commit -m "feat!: change CLI argument format"
```

## Development Workflow

### Testing Locally

```bash
# Test techdebt scanner
./skills/techdebt/scripts/scan.sh ~/Projects/some-project
./skills/techdebt/scripts/scan.sh --json --threshold high
./skills/techdebt/scripts/scan.sh --duplicates --summary

# Test worktrees
./scripts/worktrees/setup-worktrees.sh ~/Projects/test-repo
./scripts/worktrees/setup-worktrees.sh --clean ~/Projects/test-repo
```

### Running Against This Repo

```bash
# Dogfooding!
./skills/techdebt/scripts/scan.sh .
./skills/techdebt/scripts/scan.sh --fix
```

### Testing npm Package

```bash
# Link locally
npm link

# Test CLI
techdebt ~/Projects/some-project
worktrees ~/Projects/test-repo

# Unlink when done
npm unlink -g @unisone/claude-toolkit
```

## Project Structure

```
claude-toolkit/
â”œâ”€â”€ bin/                  # CLI entry points
â”‚   â”œâ”€â”€ techdebt         # techdebt command wrapper
â”‚   â””â”€â”€ worktrees        # worktrees command wrapper
â”œâ”€â”€ skills/              # Claude Code skill definitions
â”‚   â””â”€â”€ techdebt/        # Techdebt scanner skill
â”‚       â”œâ”€â”€ SKILL.md     # Skill documentation for Claude
â”‚       â””â”€â”€ scripts/     # Actual scanner implementation
â”œâ”€â”€ scripts/             # Standalone scripts
â”‚   â””â”€â”€ worktrees/       # Worktree management scripts
â”œâ”€â”€ examples/            # Usage examples and templates
â”œâ”€â”€ .github/             # GitHub Actions workflows
â”œâ”€â”€ README.md            # Main documentation
â”œâ”€â”€ CONTRIBUTING.md      # This file
â”œâ”€â”€ CHANGELOG.md         # Auto-generated by semantic-release
â””â”€â”€ package.json         # npm package configuration
```

## Adding a New Feature

### Example: Add Support for a New Language

1. **Update the scanner** (`skills/techdebt/scripts/scan.sh`):
   ```bash
   # Add file extension to relevant checks
   file_extensions=("*.ts" "*.tsx" "*.js" "*.jsx" "*.py" "*.go" "*.rs")
   ```

2. **Add language-specific checks**:
   ```bash
   check_python_specific() {
     # Python-specific techdebt patterns
     grep -rn "import \*" --include="*.py" ...
   }
   ```

3. **Document the feature** in `README.md`

4. **Add examples** to `examples/` directory

5. **Update tests** (if we add a test suite later)

6. **Submit PR** with conventional commit message

### Example: Improve Duplicate Detection

1. **Enhance the check** in `check_duplicates()` function
2. **Add configuration** to `.techdebt.json` schema
3. **Document** the new behavior and configuration
4. **Test** on various codebases
5. **Submit PR**

## Code Quality Standards

### Bash Scripts

- Use `set -euo pipefail` for safety
- Add comprehensive help text (`--help`)
- Include error handling with meaningful messages
- Use colors for better UX (but respect `NO_COLOR` env var)
- Add comments for complex logic
- Exit codes: 0=success, 1=critical, 2=warning, 3=error

### Documentation

- Clear, concise language
- Real-world examples
- Keep README.md updated with new features
- Screenshots/output examples when relevant
- Explain the "why" not just the "how"

### Testing

We currently rely on manual testing, but contributions to add automated tests are welcome!

## What to Contribute

### High-Priority Areas

1. **Language Support**
   - Add Python, Go, Rust, Java detection
   - Language-specific techdebt patterns
   - Framework-specific checks (React, Vue, Django, etc.)

2. **Duplicate Detection**
   - Improve algorithm accuracy
   - Add configurable similarity threshold
   - Handle different code structures

3. **CI/CD Integration**
   - GitHub Actions examples
   - GitLab CI templates
   - CircleCI configuration
   - Pre-commit hook templates

4. **Multi-Agent Patterns**
   - Document best practices
   - Add more worktree workflows
   - Integration guides for different AI tools

5. **Configuration**
   - More granular `.techdebt.json` options
   - Project templates
   - Preset configurations for different project types

### Ideas Welcome

- Integration with other AI coding tools (Cursor, Codex, etc.)
- VS Code extension
- Webhook support for automated scanning
- Metrics dashboard/reporting
- Team collaboration features

## Questions?

- **Issues**: Open an issue on GitHub
- **Discussions**: Use GitHub Discussions for ideas and questions
- **X/Twitter**: [@alexzay_](https://twitter.com/alexzay_)

## License

By contributing, you agree that your contributions will be licensed under the MIT License.

---

**Thank you for helping make AI coding workflows better! ðŸš€**
